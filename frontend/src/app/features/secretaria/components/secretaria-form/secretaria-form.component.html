<div class="page-container">
  <h1 class="page-title">{{ isEditMode ? 'Editar' : 'Nova' }} Secretaria</h1>

  <div class="card">
    <form [formGroup]="secretariaForm" (ngSubmit)="onSubmit()">
      <div class="field">
        <label for="nome">Nome *</label>
        <input
          pInputText
          id="nome"
          formControlName="nome"
          class="w-full"
          [class.ng-invalid]="isFieldInvalid('nome')"
          placeholder="Ex: Secretaria Municipal de Educação" />
        <small class="p-error" *ngIf="isFieldInvalid('nome')">
          {{ getErrorMessage('nome') }}
        </small>
      </div>

      <div class="field">
        <label for="sigla">Sigla *</label>
        <input
          pInputText
          id="sigla"
          formControlName="sigla"
          class="w-full"
          [class.ng-invalid]="isFieldInvalid('sigla')"
          placeholder="Ex: SEMED"
          maxlength="10" />
        <small class="p-error" *ngIf="isFieldInvalid('sigla')">
          {{ getErrorMessage('sigla') }}
        </small>
        <small class="block mt-1" style="color: #6c757d;">
          Apenas letras maiúsculas, 2-10 caracteres
        </small>
      </div>

      <div class="button-group">
        <button
          pButton
          type="submit"
          label="{{ isEditMode ? 'Atualizar' : 'Salvar' }}"
          icon="pi pi-check"
          [disabled]="secretariaForm.invalid || isSubmitting">
        </button>
        <button
          pButton
          type="button"
          label="Cancelar"
          icon="pi pi-times"
          class="p-button-secondary"
          (click)="cancel()">
        </button>
      </div>
    </form>
  </div>
</div>
